<div fxLayoutAlign="end center" class="closeBtn">
    <button   matTooltip="{{'GENERIC.action.close' |translate}}" mat-icon-button matSuffix    type="button"  color="warn"   (click)="close()">
        <mat-icon>cancel</mat-icon>
    </button>
</div>
<h1 mat-dialog-title>
    <span>{{'USERS.add'|translate}}</span></h1>
<form [formGroup]="form"  class="user-form"  (ngSubmit)="saveUser(form.value)">


     <mat-card class="mat-card-border">
         <mat-card-header>
             <mat-card-subtitle><h3>{{'GENERIC.data'|translate}}</h3></mat-card-subtitle>
         </mat-card-header>
         <mat-card-content>

                    <mat-form-field >
                        <input matInput placeholder="{{'registration.firstName'| translate}}" formControlName="firstName">
                        <mat-error *ngIf="form.controls.firstName.errors?.required">{{'GENERIC.required' | translate}}</mat-error>
                        <mat-error *ngIf="form.controls.firstName.hasError('startWithSpace')">{{'validation.hasSpace'|translate}}</mat-error>
                    </mat-form-field>

                        <mat-form-field  >
                            <input matInput placeholder="{{'registration.userName'| translate}}" formControlName="userName">
                        <mat-error *ngIf="form.controls.userName.errors?.required">{{'GENERIC.required' | translate}}</mat-error>
                        <mat-error *ngIf="form.controls.userName.hasError('minlength')">{{'validation.min.userName'|translate}}</mat-error>
                        <mat-error *ngIf="form.controls.userName.hasError('hasSpace')">{{'validation.hasSpace'|translate}}</mat-error>
                        </mat-form-field>


                           <mat-form-field  >
                            <input matInput placeholder="{{'registration.email'| translate}}" formControlName="email">
                            <mat-error *ngIf="form.controls.email.errors?.required">{{'GENERIC.required' | translate}}</mat-error>
                            <mat-error *ngIf="form.controls.email.errors?.email">{{'validation.err.email'|translate}}</mat-error>
                            </mat-form-field>

                                <mat-form-field  >
                                    <input matInput placeholder="{{'registration.phoneNum'| translate}}" formControlName="phoneNumber">
                                    <mat-error *ngIf="form.controls.phoneNumber.errors?.required">{{'GENERIC.required' | translate}}</mat-error>
                                    <mat-error *ngIf="form.controls.phoneNumber.hasError('ksaPhone')">{{'validation.ksa.phone'|translate}}</mat-error>
                                </mat-form-field>  


         </mat-card-content>
     </mat-card>
<br>
     <mat-card class="mat-card-border">
         <mat-card-header>
             <mat-card-subtitle><h3>{{'MENU.Adminstration.systemPerms'|translate}}</h3></mat-card-subtitle>
         </mat-card-header>
         <mat-card-content>

             <mat-card-content>
                 <mat-selection-list  formControlName="selectedPermIds"  #perm>
                     <mat-list-option color="primary"  [value]="perm.id" *ngFor="let perm of perms" >
                        <mat-option  > {{perm.nameAr}}</mat-option>
                     </mat-list-option>
                 </mat-selection-list>
             </mat-card-content>
         </mat-card-content>
     </mat-card>



<!--[mat-dialog-close]="form.value"-->
<div mat-dialog-actions fxLayout="row" fxLayoutAlign="space-between center">
    <button mat-raised-button type="submit" color="primary"  [disabled]="!form.valid || submitted" >
        <span *ngIf="!user.id">{{'GENERIC.save'|translate}}</span>
        <span *ngIf="user.id">{{'GENERIC.save'|translate}}</span>
    </button>
    <button mat-raised-button color="accent" type="button" [disabled]="submitted" (click)="close()">{{'GENERIC.cancel'|translate}}</button>
</div>
</form>
